#ifndef AWN_UBUS_H
#define AWN_UBUS_H
/*!
 *\file		ubus_server.c
 *\brief	provide interface for other programs.
 *
 *\author	dengzhong@tp-link.com.cn
 *\version	v1.0
 *\date		02Jan18
 *
 *\history	\arg 1.0, 02Jan18, create the file.
 */
/***************************************************************************/
/*                    CONFIGURATIONS                    */
/***************************************************************************/

/***************************************************************************/
/*                    INCLUDE FILES                     */
/***************************************************************************/

#include 	"libubus.h" 

/***************************************************************************/
/*                    DEFINES                           */
/***************************************************************************/

/***************************************************************************/
/*                    TYPES                             */
/***************************************************************************/

#ifdef CONFIG_PACKAGE_WIFI_SCHEDULE
typedef enum RE_CONNECT_POLICY_ {
    RE_CONNECT_DEFAULT = 0,
    RE_CONNECT_NO_HAP, //RE do not become HAP(so the STA interfaces will always keep up)
    RE_CONNECT_MAX,
} RE_CONNECT_POLICY;
#endif

/***************************************************************************/
/*                    EXTERN_PROTOTYPES                 */
/***************************************************************************/

/***************************************************************************/
/*                    LOCAL_PROTOTYPES                  */
/***************************************************************************/

/***************************************************************************/
/*                    VARIABLES                         */
/***************************************************************************/

/***************************************************************************/
/*                    LOCAL_FUNCTIONS                   */
/***************************************************************************/

/***************************************************************************/
/*                    PUBLIC_FUNCTIONS                  */
/***************************************************************************/

int awn_start_ubus_server(struct ubus_context *ctx);

int awnd_ubus_get_server_detect(u_int8_t *server_detected, u_int32_t *server_touch_time);
void awnd_ubus_send_smartip_event(int action, int status);
#ifdef CONFIG_AWN_MESH_OPT_SUPPORT
int awnd_ubus_get_client_count(u_int32_t *cnt);
#endif /* CONFIG_AWN_MESH_OPT_SUPPORT	*/

/***************************************************************************/
/*                    GLOBAL_FUNCTIONS                  */
/***************************************************************************/
#endif